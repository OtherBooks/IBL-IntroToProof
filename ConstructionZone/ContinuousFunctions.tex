\begin{section}{Continuous Real Functions}\label{sec:Continuity}

In this section, we will explore the concept of continuity, which you likely encountered in high school.

\begin{definition}
A \textbf{real function} is any function $f:A\to \mathbb{R}$ such that $A$ is a nonempty subset of $\mathbb{R}$. 
\end{definition}

\begin{definition}\label{def:continuity}
Suppose $f$ is a real function and $a\in \dom(f)$. We say that $f$ is \textbf{continuous at $a$} if for any open interval $I$ containing $f(a)$, there is an open interval $J$ containing $a$ such that if $x\in \dom(f)\cap J$, then $f(x)\in I$. The function $f$ is \textbf{continuous} if it is continuous at every point in its domain.
\end{definition}

Loosely speaking, a real function $f$ is continuous at the point $a\in\dom(f)$ if we can get $f(x)$ arbitrarily close to $f(a)$ by considering all $x\in\dom(f)$ sufficiently close to $a$.  The interval $I$ is indicating how close to $f(a)$ we need to be while the interval $J$ is providing the ``window" around $a$ needed to guarantee that all points in the window (and in the domain) yield outputs in $I$. Figure~\ref{fig:continuity} illustrates our definition of continuity. Note that in the figure, the point $a$ is fixed while we need to consider all $x\in\dom(f)\cap J$.

Perhaps you have encountered the phrase ``a function is continuous if you can draw its graph without lifting your pencil." While this description provides some intuition about what continuity of a function means, it is neither accurate nor precise enough to capture the meaning of continuity.

Let's show that this definition of continuity behaves the way we expect from calculus.

\begin{figure}[h!]
\centering
\begin{tikzpicture}[scale=1.5,angle/.style={fill=white},point/.style={},decoration={brace,amplitude=7}]
\draw [thick,-stealth] (-.5,0) -- (5,0);
\draw [thick,-stealth] (0,-.5) -- (0,5);
\draw[stealth-stealth,domain=-.5:4.4] plot(\x,{.2*\x*\x+1});
\draw[shift={(2.5,0)},color=black] (0pt,2pt) -- (0pt,-2pt) node[below] {$a$};
\draw[shift={(3.2,0)},color=black] (0pt,2pt) -- (0pt,-2pt) node[below] {$x$};
\draw[shift={(0,.2*2.5*2.5+1)},color=black] (2pt,0pt) -- (-2pt,0pt) node[left] {$f(a)$};
\draw[shift={(0,.2*3.2*3.2+1)},color=black] (2pt,0pt) -- (-2pt,0pt) node[left] {$f(x)$};
\draw (4,4.3) node[anchor=north west] {$f$};
\draw (2.02,0) node {$($};
\draw (3.48,0) node {$)$};
\draw (0,1.4) node {\rotatebox{90}{$($}};
\draw (0,3.8) node {\rotatebox{90}{$)$}};

\draw [thick,dashed] (2,.15) -- (2,.2*2*2+1);
\draw [thick,dashed] (3.5,.15) -- (3.5,.2*3.5*3.5+1);
\draw [thick,dashed] (0,.2*2*2+1) -- (2,.2*2*2+1);
\draw [thick,dashed] (0,.2*3.5*3.5+1) -- (3.5,.2*3.5*3.5+1);

\fill (2.5,.2*2.5*2.5+1) circle (0.03cm);
\fill (3.2,.2*3.2*3.2+1) circle (0.03cm);

\draw [decorate] (3.5,-.5)--node[below=3mm]{$J$} (2,-.5);
\draw [decorate] (-.75,1.4)--node[left=3mm]{$I$} (-.75,3.8);
\end{tikzpicture}
\caption{Visual representation of continuity of $f$ at $a$.}\label{fig:continuity}
\end{figure}

\begin{problem}
Prove that each of the following real functions is continuous using Definition~\ref{def:continuity}.
\begin{enumerate}[label=\textrm{(\alph*)}]
\item $f:\mathbb{R}\to \mathbb{R}$ defined via $f(x)=x$.
\item $g:\mathbb{R}\to \mathbb{R}$ defined via $g(x)=2x$.
\item $h:\mathbb{R}\to \mathbb{R}$ defined via $h(x)=x+3$.
\end{enumerate}
\end{problem}

The next result tells us that every linear function from $\mathbb{R}$ to $\mathbb{R}$ is continuous.

\begin{theorem}
Let $m,b\in\mathbb{R}$ and define $f:\mathbb{R}\to\mathbb{R}$ via $f(x)=mx+b$. Then $f$ is continuous.
\end{theorem}

\begin{problem}
Define $f:\mathbb{R}\to\mathbb{R}$ via 
\[
f(x)=\begin{cases}
1, & \text{if }x\in[0,1]\\
0, & \text{otherwise}.
\end{cases}
\]
Find all points where $f$ is continuous and justify your answer.
\end{problem}

\begin{problem}
Define $g:\{0\}\to \mathbb{R}$ via $g(0)=0$.  Prove that $g$ is continuous at $x=0$.
\end{problem}

\begin{problem}
Define $f:\mathbb{R}\to\mathbb{R}$ via 
\[
f(x)=\begin{cases}
1, & \text{if }x\in \mathbb{Q}\\
0, & \text{otherwise}.
\end{cases}
\]
Find all points where $f$ is continuous and justify your answer.
\end{problem}

After completing the next problem, reflect on the statement ``a function is continuous if you can draw its graph without lifting your pencil."

\begin{problem}
Define $f:\mathbb{N}\to\mathbb{R}$ via $f(x)=1$. Determine whether $f$ is continuous. Justify your assertion.
\end{problem}

The next problem illustrates that the order in which the sets $I$ and $J$ are considered in the definition of continuity is crucial.

\begin{problem}
Find an example of a real function $f$ that satisfies each of the following:
\begin{enumerate}[label=\textrm{(\roman*)}]
\item $1\in\dom(f)$;
\item For any open interval $J$ containing $1$, there is an open interval $I$ containing $f(1)$ such that if $x\in \dom(f)\cap J$, then $f(x)\in I$;
\item $f$ is not continuous at $1$.
\end{enumerate}
\end{problem}

\begin{theorem}\label{thm:inverse images open sets}
Suppose $f$ is a real function. Then $f$ is continuous if and only if the preimage $f^{-1}(U)$ of every open set $U$ is an open set intersected with the domain of $f$.
\end{theorem}

The previous characterization of continuity is often referred to as the ``open set definition of continuity," although for us it is a theorem instead of a definition. This is the definition used in topology. There are two other commonly used definitions of continuity. The first is sometimes called the ``$\epsilon$-$\delta$ definition of continuity" and utilizes inequalities involving absolute values. This is the definition one typically encounters in calculus and real analysis. Another notion of continuity, called ``sequential continuity", makes use of convergent sequences.  All of these characterizations of continuity are equivalent on the real numbers (using the standard definition of open set). However, there are contexts in mathematics where the $\epsilon$-$\delta$ definition of continuity is undefined (because there is not a notion of distance in the space) and others where continuity and sequential continuity are not equivalent.

Since every open set is the union of finite-length open intervals (Definition~\ref{def:open}), the union of open sets is open (Theorem~\ref{thm:union of open sets}), and preimages respect unions (Theorem~\ref{thm:unions and intersections of preimages}), we can strengthen Theorem~\ref{thm:inverse images open sets} into an even more useful result.  

\begin{theorem}\label{thm:inverse images basic open sets}
Suppose $f$ is a real function. Then $f$ is continuous if and only if the preimage $f^{-1}(I)$ of every finite-length open interval $I$ is an open set intersected with the domain of $f$.
\end{theorem}

Attempt to use the previous theorem when approaching the next problem.  You will likely need to consider a few cases. 

\begin{problem}
Define $f:\mathbb{R}\to\mathbb{R}$ via $f(x)=x^2$. Prove that $f$ is continuous.
\end{problem}

When tackling the previous problem, you should have encountered the fact that the preimage of an open interval does not necessarily result in an open interval, even for continuous functions.

\begin{problem}
Define $f:\mathbb{R}\setminus\to\mathbb{R}$ via $f(x)=\frac{1}{x}$. Determine whether $f$ is continuous. Justify your assertion.
\end{problem}

The previous problems once again calls into question the phrase ``a function is continuous if you can draw its graph without lifting your pencil."

\begin{problem}
Find a continuous real function $f$ and an open interval $I$ such that the preimage $f^{-1}(I)$ is not an open interval.
\end{problem}

For the next few problems, if you attempt to construct counterexamples, you may rely on your previous knowledge about various functions that you encountered in high school and calculus.

\begin{problem}
Suppose $f$ is a continuous real function. If $U$ is an open set contained in $\dom(f)$, is the image $f(U)$ always open?  If so, prove it.  Otherwise, provide a counterexample.
\end{problem}

%\begin{problem}
%Suppose $f:\mathbb{R}\to \mathbb{R}$ is a continuous function and consider the open interval $(a,b)$. Is the image $f((a,b))$ always an open interval?  If so, prove it.  Otherwise, provide a counterexample.
%\end{problem}

\begin{problem}
Suppose $f$ is a continuous real function. If $C$ is a closed set, is the preimage $f^{-1}(C)$ always a closed set? If so, prove it.  Otherwise, provide a counterexample.
\end{problem}

\begin{problem}
Suppose $f$ is a continuous real function. If $[a,b]$ is a closed interval contained in $\dom(f)$, is the image $f([a,b])$ always a closed interval?  If so, prove it.  Otherwise, provide a counterexample.
\end{problem}

\begin{problem}
Suppose $f$ is a continuous real function. If $C$ is a closed set contained in $\dom(f)$, is the image $f(C)$ always a closed set?  If so, prove it.  Otherwise, provide a counterexample.
\end{problem}

\begin{problem}
Suppose $f$ is a continuous real function. If $B$ is bounded set contained in $\dom(f)$, is the image $f(B)$ always a bounded set?  If so, prove it.  Otherwise, provide a counterexample.
\end{problem}

\begin{problem}
Suppose $f$ is a continuous real function. If $B$ is a bounded set, is the preimage $f^{-1}(B)$ always a bounded set? If so, prove it.  Otherwise, provide a counterexample.
\end{problem}

\begin{problem}
Suppose $f$ is a continuous real function. If $K$ is a compact set, is the preimage $f^{-1}(B)$ always a compact set? If so, prove it.  Otherwise, provide a counterexample.
\end{problem}

%\begin{problem}
%Suppose $A$ is a nonempty subset of $\mathbb{R}$ and let $f:A\to \mathbb{R}$ be a continuous function. If $I$ is a finite-length interval (possibly open, closed, or neither) contained in $A$, is the image $f(I)$ always a finite-length interval?  If so, prove it.  Otherwise, provide a counterexample.
%\end{problem}

%The next theorem likely captures your intuition about continuity from high school and calculus.

%\begin{theorem}
%If $f:\mathbb{R}\to \mathbb{R}$ is a continuous function and $C$ is a connected set, then the image $f(C)$ is connected.
%\end{theorem}

\begin{problem}\label{prob:continuous image of connected set}
Suppose $f$ is a continuous real function. If $C$ is a connected set contained in $\dom(f)$, is the image $f(C)$ always connected?  If so, prove it.  Otherwise, provide a counterexample.
\end{problem}

\begin{problem}
Suppose $f$ is a continuous real function. If $C$ is a connected set, is the preimage $f^{-1}(C)$ always a connected set? If so, prove it.  Otherwise, provide a counterexample.
\end{problem}

Perhaps you noticed the absence of one natural question in the previous sequence of problems. If $f$ is a continuous real function and $K$ is a subset of the domain of $f$, is the image $f(K)$ a compact set?  It turns out that the answer is ``yes", but proving this fact is currently beyond our capabilities. This theorem is often proved in a real analysis course and is then used to prove the Extreme Value Theorem, which you may have encountered in your calculus course.

The next result is a special case of the well-known \textbf{Intermediate Value Theorem}, which states that if $f$ is a continuous function whose domain contains the interval $[a,b]$, then $f$ attains every value between $f(a)$ and $f(b)$ at some point within the interval $[a,b]$. To prove the special case, utilize Theorem~\ref{thm:closed interval connected} and Problem~\ref{prob:continuous image of connected set} together with a proof by contradiction.

\begin{theorem}
Suppose $f$ is a real function. If $f$ is continuous on $[a,b]$ such that $f(a)<0<f(b)$ or $f(a)>0>f(b)$, then there exists $r\in [a,b]$ such that $f(r)=0$.
\end{theorem}

If we generalize the previous result, we obtain the Intermediate Value Theorem.

\begin{theorem}[Intermediate Value Theorem]
Suppose $f$ is a real function. If $f$ is continuous on $[a,b]$ such that $f(a)<c<f(b)$ or $f(a)>c>f(b)$ for some $c\in \mathbb{R}$, then there exists $r\in [a,b]$ such that $f(r)=c$.
\end{theorem}

\begin{problem}
Is the converse of the Intermediate Value Theorem true? If so, prove it.  Otherwise, provide a counterexample.
\end{problem}

\end{section}